{"version":3,"sources":["components/People.js","components/Form.js","components/Success.js","services/server.js","App.js","index.js"],"names":["People","person","number","deleteUser","onClick","Form","props","onSubmit","addPerson","value","newName","onChange","handleNameChange","newNumber","handleNumberChange","type","Success","name","className","baseUrl","axios","get","id","newObject","post","_id","console","log","delete","put","App","useState","persons","setPersons","setNewName","setNewNumber","filterName","setFilterName","filterPersons","setFilterPersons","success","setSuccess","useEffect","Server","then","response","data","catch","error","event","target","tempFilterPersons","filter","toLowerCase","includes","preventDefault","undefined","find","window","confirm","getPerson","tempPerson","temp","map","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.debc0768.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst People = ({person,number,deleteUser}) =>{\r\n    return(\r\n        <li>{person} {number} <button onClick = {deleteUser}> delete </button></li>\r\n    )\r\n    \r\n}\r\n\r\nexport default People","import React from 'react'\r\n\r\nconst Form = (props) =>{\r\n    return(\r\n        <form onSubmit={props.addPerson}>\r\n            <div>\r\n                name: <input value = {props.newName} onChange = {props.handleNameChange}/>\r\n            </div>\r\n            <div>\r\n                number: <input value = {props.newNumber} onChange = {props.handleNumberChange}/>\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default Form","\r\nconst Success = ({name}) =>{\r\n\r\n    if(name != ''){\r\n        return(\r\n            <div>\r\n                <h1 className='successMessage'>Added {name}</h1>\r\n            </div>\r\n        )\r\n    }\r\n    \r\n    return(\r\n        <>\r\n        </>\r\n    )\r\n}\r\n\r\n\r\nexport default Success","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\n\r\nconst getAll = () =>{\r\n    return axios.get(baseUrl)\r\n}\r\n\r\nconst getOne = (id) =>{\r\n    return axios.get(`${baseUrl}/${id}`)\r\n}\r\n\r\nconst create = (newObject) =>{\r\n    return axios.post(baseUrl,newObject)\r\n}\r\n\r\nconst deleteNumber = (_id) =>{\r\n    console.log(baseUrl,_id)\r\n    return axios.delete(`${baseUrl}/${_id}`)\r\n}\r\n\r\nconst update = (id,newObject) =>{\r\n    return axios.put(`${baseUrl}/${id}`,newObject)\r\n}\r\n\r\nexport default { \r\n    getAll,\r\n    getOne,\r\n    create,\r\n    deleteNumber,\r\n    update,\r\n  }","import React, { useEffect, useState } from 'react'\r\nimport People from './components/People'\r\nimport Form from './components/Form'\r\nimport Success from './components/Success'\r\nimport Server from './services/server'\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([\r\n  ])\r\n\r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber] = useState('')\r\n  const[ filterName, setFilterName] = useState('')\r\n\r\n  const [ filterPersons,setFilterPersons] = useState([])\r\n  const [success,setSuccess] = useState('')\r\n\r\n  useEffect(()=>{\r\n    console.log(\"inside effect\")\r\n    Server.getAll()\r\n    .then(response => {\r\n      console.log('promise fulfilled')\r\n      setPersons(response.data)\r\n      setFilterPersons(response.data)\r\n    }).catch(error =>{\r\n      console.log(error)\r\n    })\r\n  },[])\r\n\r\n\r\n\r\n\r\n  const addPerson = (event) =>{\r\n    event.preventDefault()\r\n    const checkNameExists = persons.find(person => person.name === newName)\r\n\r\n    if(checkNameExists !== undefined){\r\n    const result = window.confirm(`${newName} is already added to the phonebook, update number?`)\r\n\r\n      if(result){\r\n        const getPerson = persons.find(person => {\r\n          if(person.name === newName)\r\n            return person\r\n        })\r\n        \r\n        Server.getOne(getPerson.id).then(response =>{\r\n          console.log(response);\r\n          var tempPerson = {...response.data, number:newNumber}\r\n          Server.update(tempPerson.id,tempPerson).then(response =>{\r\n            console.log(response)\r\n          })\r\n  \r\n          Server.getAll().then(response =>{\r\n            const temp = response.data\r\n            setFilterPersons(temp)\r\n          })\r\n        })\r\n      }\r\n\r\n\r\n      return\r\n    }\r\n      \r\n    let newPerson = {\r\n      name:newName,\r\n      number:newNumber\r\n    }\r\n\r\n    Server.create(newPerson)\r\n    .then(response =>{\r\n        console.log(`${response.data} has been added to the server`);\r\n  \r\n        setPersons(response.data)\r\n        setFilterPersons(response.data)\r\n      }\r\n    ).catch(error =>{\r\n      console.log('failed to create a new entry',error)\r\n    })\r\n\r\n    setSuccess(newName)\r\n    setNewName('')\r\n    setNewNumber('')\r\n  }\r\n\r\n  const handleNameChange = (event) =>{\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) =>{\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleNameFilter = (event) =>{\r\n    setFilterName(event.target.value)\r\n    console.log(event.target.value)\r\n    \r\n    const tempFilterPersons = persons.filter(person =>\r\n      (person.name.toLowerCase()).includes((event.target.value).toLowerCase())\r\n    )\r\n    setFilterPersons(tempFilterPersons)\r\n  }\r\n\r\n  const deleteRender = (_id) =>{\r\n    Server.deleteNumber(_id).then(response =>{\r\n   })\r\n   Server.getAll().then(response =>{\r\n    setFilterPersons(response.data)\r\n  })\r\n  }\r\n\r\n  \r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Success name = {success}/>\r\n      <div>\r\n        filter shown with<input value = {filterName} onChange = {handleNameFilter}/>\r\n      </div>\r\n      \r\n      <h2>add a new</h2>\r\n      <Form addPerson = {addPerson} newName = {newName}  handleNameChange = {handleNameChange} \r\n        newNumber = {newNumber} handleNumberChange = {handleNumberChange} />\r\n      <h2>Numbers</h2>\r\n      <ul>\r\n        {filterPersons.map(person => {\r\n         return <People person = {person.name} key = {person._id} number = {person.number}  deleteUser = { () => {\r\n          deleteRender(person._id)}}/> \r\n        })}\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App.js'\nimport './index.css'\n\nReactDOM.render(<App />,\n  document.getElementById('root'))"],"sourceRoot":""}